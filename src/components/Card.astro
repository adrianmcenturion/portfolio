---
import World from "./icons/World.astro";
import SourceCode from "./icons/SourceCode.astro";

interface Props {
  title: string;
  subtitle?: string;
  description: string;
  img: string;
  deploy?: string;
  code?: string;
  tags?: string[];
}

const { code, title, subtitle, deploy, description, img, tags } = Astro.props;
---

<div
  class="flex flex-col max-w-lg bg-gray-800/40 border-4 border-t-2 border-l-2 border-t-red-700/20 border-l-red-700/20 border-b-violet-700/30 border-r-violet-700/30 hover:border-t-red-700/60 hover:border-l-red-700/60 hover:border-b-violet-700/60 hover:border-r-violet-700/60 hover:scale-105 rounded-lg transition shadow-lg overflow-hidden"
>
  <div class="w-full h-full overflow-hidden">
    <img
      class="object-cover object-left-top rounded-t scale-110"
      src={img}
      alt={title}
    />
  </div>

  <div class="flex flex-col h-full p-5">
    <h2
      class="mb-2 text-2xl font-bold tracking-tight text-white dark:text-white"
    >
      {title}
    </h2>
    {subtitle ? <h3 class="opacity-80 mb-2 text-xl">{subtitle}</h3> : null}
    <p class="mb-3 font-normal text-gray-400 dark:text-gray-400 text-pretty">
      {description}
    </p>
    <div class="mt-auto">
      {
        deploy ? (
          <a
            href={deploy}
            target="_blank"
            rel="noopener noreferrer"
            class="mt-auto inline-flex items-center justify-center px-3 py-2 gap-1 text-sm font-bold text-center text-red-900 bg-red-300/80 border rounded hover:border-red-300/90 border-red-900 brightness-150 hover:bg-red-900/90 hover:text-red-300/90 focus:ring-4 focus:outline-none focus:ring-violet-300 "
          >
            <World class="size-5 md:size-6" />
            Deploy
          </a>
        ) : null
      }
      {
        code ? (
          <a
            href={code}
            target="_blank"
            rel="noopener noreferrer"
            class="mt-auto inline-flex items-center justify-center px-3 py-2 gap-1 text-sm font-bold text-center text-violet-950/90 bg-violet-300/80 border rounded hover:border-violet-300/90 border-violet-950/80 brightness-150 hover:bg-violet-950/90 hover:text-violet-300/90 focus:ring-4 focus:outline-none focus:ring-violet-300 transition ease-in-out"
          >
            <SourceCode class="size-5 md:size-6" />
            Code
          </a>
        ) : null
      }
      {
        tags ? (
          <div class="border-t-2 border-gray-400/80 mt-3 flex gap-1">
            {tags.map((tag) => (
              <span class="mt-3 bg-violet-300/80 text-violet-950/90 text-xs font-semibold me-2 px-2 py-0.5 rounded hover:border-violet-300 border-violet-950/80 brightness-150 hover:bg-violet-950/80 hover:text-violet-300  transition">
                {tag}
              </span>
            ))}
          </div>
        ) : null
      }
    </div>
  </div>
</div>
